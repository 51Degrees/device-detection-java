# Template that runs build andn test stage on multiple platforms.

parameters:
# Provide image versions to run the job on for windows, linux and mac.
- name: windowsImage
- name: linuxImage
- name: macImage

stages:
- template: data-stage.yml

- template: shared-build-and-test-stage.yml
  parameters:
    stageName: Windows
    imageName: ${{ parameters.windowsImage }}
    
- template: shared-build-and-test-stage.yml
  parameters:
    stageName: Linux
    imageName: ${{ parameters.linuxImage }}   
    
- template: shared-build-and-test-stage.yml
  parameters:
    stageName: MacOS
    imageName: ${{ parameters.macImage }}